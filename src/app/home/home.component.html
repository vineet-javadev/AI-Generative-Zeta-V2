<main class="w-screen h-screen flex flex-col ">
    <!-- Navbar -->
    <nav class="  h-14 flex items-center justify-center bg-stone-200/50 font-bold font-mono text-xl shadow">
      AI-Generative Zeta
    </nav>
  
    <div class=" flex-1 flex p-2 md:p-10 items-end md:items-center justify-center">
      <!-- Message Section -->
      <ng-container *ngIf="!showModal; else responseTemplate">
        <section class="flex flex-col w-full max-w-xl items-center justify-center gap-3 md:gap-5 p-4">
          <h1 class="text-xl font-semibold text-gray-700">How may I help you...</h1>
  
          <textarea type="text" [(ngModel)]="userMessage" (keydown.enter)="handleSubmit()" placeholder="Type your message..."
            class="w-full font-mono px-4 py-2 border rounded-lg shadow focus:outline-none focus:ring-2 focus:ring-blue-500"
            autofocus></textarea>
  
          <button (click)="handleSubmit()"
            class="w-full bg-blue-600 text-white py-2 rounded-lg shadow hover:bg-blue-700 transition">
            Send
          </button>
        </section>
      </ng-container>
  
      <!-- Response Section -->
      <ng-template #responseTemplate>
        <section
          class="flex flex-col w-full max-w-4xl p-2 md:p-5 rounded bg-stone-300/50  items-center justify-start gap-3 md:gap-5 overflow-hidden"
          style="max-height: calc(100vh - 2rem);">
          <!-- Header with Close -->
          <div class="flex w-full items-center justify-between sticky top-0  z-10 py-2">
            <h1 class="font-bold text-xl text-gray-800">AI Response</h1>
            <button class="hover:underline text-red-600 font-medium" (click)="closeModal()">
              Close
            </button>
          </div>
  
          <!-- Scrollable content area -->
          <div class="flex flex-col w-full gap-2 md:gap-4 overflow-y-auto" style="max-height: calc(100vh - 16rem);">
            <div class="flex gap-2 p-2 md:p-4 rounded-lg shadow bg-stone-300 hover:bg-stone-100"
              *ngFor="let response of aiResponse">
              <p class="text-gray-700 font-bold min-w-[40px]">{{ response.user }}:</p>
              <markdown [data]="response.message" class="text-gray-800 "></markdown>
            </div>
          </div>
        </section>
      </ng-template>
    </div>
    <!-- Footer -->
  
  </main>